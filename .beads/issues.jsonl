{"id":"lb-2s0","title":"Verify empty project builds and passes quality checks","description":"After cleanup, verify the empty project is functional:\n- Run pytest and ensure it passes (no test failures from removed samples)\n- Run flake8 and black to ensure code quality\n- Verify app.py still imports and runs without errors\n- Check that all __init__.py files are valid Python\n- Ensure the project structure is clean and ready for new development","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:31:45.590889+01:00","updated_at":"2025-12-12T23:19:56.095221+01:00","closed_at":"2025-12-12T17:42:52.259312+01:00","dependencies":[{"issue_id":"lb-2s0","depends_on_id":"lb-9lq","type":"blocks","created_at":"2025-12-12T17:31:45.592218+01:00","created_by":"daemon"},{"issue_id":"lb-2s0","depends_on_id":"lb-7xy","type":"blocks","created_at":"2025-12-12T17:31:45.593559+01:00","created_by":"daemon"}]}
{"id":"lb-3b6","title":"Document Slack Bolt listener patterns in spec","description":"Create a spec document (e.g., docs/spec/002-slack-listener-patterns.md) that describes:\n- How Slack Bolt listeners work (actions, commands, events, messages, shortcuts, views)\n- The registration pattern used in listeners/__init__.py and each category\n- Directory structure conventions\n- Example skeleton code for adding new listeners\n- Reference the patterns in 000-shared-patterns.md","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:31:29.528803+01:00","updated_at":"2025-12-12T23:19:56.095506+01:00","closed_at":"2025-12-12T17:41:28.375416+01:00"}
{"id":"lb-3qa","title":"Refactoring Phase 8: Documentation and cleanup","description":"Update documentation and remove old code. See history/AI_ASSISTANT_REFACTORING.md Phase 8 for details.\n\nTasks:\n- Update AGENTS.md with new package structure\n- Update spec documents (especially 002-slack-listener-patterns.md)\n- Add comprehensive docstrings to all new modules\n- Create migration guide for future reference\n- Remove old listeners/_llm.py, _prompt.py, _assistant_utils.py\n- Consider deprecating old listeners/ or making it a compatibility shim\n- Verify all documentation is accurate and complete\n\nGoal: Complete, accurate documentation and clean codebase. Reference: history/AI_ASSISTANT_REFACTORING.md Migration Guide and Cleanup sections.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T19:51:28.535118+01:00","updated_at":"2025-12-12T23:19:56.096502+01:00","closed_at":"2025-12-12T21:45:23.834066+01:00","dependencies":[{"issue_id":"lb-3qa","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T19:51:28.536358+01:00","created_by":"daemon"},{"issue_id":"lb-3qa","depends_on_id":"lb-z5f","type":"blocks","created_at":"2025-12-12T19:51:28.537318+01:00","created_by":"daemon"},{"issue_id":"lb-3qa","depends_on_id":"lb-e7y","type":"blocks","created_at":"2025-12-12T19:51:28.538608+01:00","created_by":"daemon"}]}
{"id":"lb-5ag","title":"Update AGENTS.md with detailed project layout","description":"Enhance AGENTS.md Project Structure section to include:\n- Full directory tree showing listeners/, tests/, docs/, history/\n- Explanation of each major directory's purpose\n- Reference to the listener patterns spec\n- Keep it concise but complete enough for AI agents to understand project layout","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:31:32.926414+01:00","updated_at":"2025-12-12T23:19:56.101408+01:00","closed_at":"2025-12-12T17:41:34.440771+01:00","dependencies":[{"issue_id":"lb-5ag","depends_on_id":"lb-3b6","type":"blocks","created_at":"2025-12-12T17:31:32.927784+01:00","created_by":"daemon"}]}
{"id":"lb-5mo","title":"Code review cleanup: test quality improvements","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T22:33:43.852829+01:00","updated_at":"2025-12-12T23:19:56.090526+01:00","closed_at":"2025-12-12T23:17:29.763874+01:00"}
{"id":"lb-5zu","title":"Add environment variable validation to app.py and app_oauth.py","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-12T22:33:45.859951+01:00","updated_at":"2025-12-13T15:23:06.307407+01:00","closed_at":"2025-12-13T15:23:06.307407+01:00"}
{"id":"lb-7gl","title":"Implement Assistant user_message listener","description":"Create listeners/events/assistant_user_message.py handler. Implements @assistant.user_message event: 1) Get conversation history from thread, 2) Set loading status, 3) Call LiteLLM via _llm module, 4) Stream response using client.chat_stream(), 5) Handle errors. Use get_thread_context to retrieve channel info. Include tests with mocked LLM responses and Slack streaming.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:32:03.66746+01:00","updated_at":"2025-12-12T23:19:56.093313+01:00","closed_at":"2025-12-12T19:25:22.347227+01:00","dependencies":[{"issue_id":"lb-7gl","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T18:32:03.668549+01:00","created_by":"daemon"},{"issue_id":"lb-7gl","depends_on_id":"lb-ocl","type":"blocks","created_at":"2025-12-12T18:36:47.485352+01:00","created_by":"daemon"},{"issue_id":"lb-7gl","depends_on_id":"lb-u01","type":"blocks","created_at":"2025-12-12T18:36:47.554017+01:00","created_by":"daemon"}]}
{"id":"lb-7rn","title":"Remove all sample listener implementations","description":"Delete all sample implementation files from listeners/:\n- listeners/actions/sample_action.py\n- listeners/commands/sample_command.py\n- listeners/events/app_home_opened.py\n- listeners/messages/sample_message.py\n- listeners/shortcuts/sample_shortcut.py\n- listeners/views/sample_view.py\n\nKeep directory structure and __init__.py files intact.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:31:35.932178+01:00","updated_at":"2025-12-12T23:19:56.100965+01:00","closed_at":"2025-12-12T17:41:48.567666+01:00","dependencies":[{"issue_id":"lb-7rn","depends_on_id":"lb-3b6","type":"blocks","created_at":"2025-12-12T17:31:35.93342+01:00","created_by":"daemon"},{"issue_id":"lb-7rn","depends_on_id":"lb-5ag","type":"blocks","created_at":"2025-12-12T17:31:35.934692+01:00","created_by":"daemon"}]}
{"id":"lb-7xy","title":"Create skeleton listener structure with empty registrations","description":"Update all __init__.py files in listeners/ subdirectories to have empty register() functions:\n- listeners/actions/__init__.py\n- listeners/commands/__init__.py\n- listeners/events/__init__.py\n- listeners/messages/__init__.py\n- listeners/shortcuts/__init__.py\n- listeners/views/__init__.py\n\nEach should follow pattern:\nfrom slack_bolt import App\n\ndef register(app: App):\n    pass  # Register your listeners here\n\nKeep listeners/__init__.py as-is since it orchestrates the registration.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:31:42.265147+01:00","updated_at":"2025-12-12T23:19:56.100192+01:00","closed_at":"2025-12-12T17:42:31.634713+01:00","dependencies":[{"issue_id":"lb-7xy","depends_on_id":"lb-7rn","type":"blocks","created_at":"2025-12-12T17:31:42.266603+01:00","created_by":"daemon"}]}
{"id":"lb-812","title":"Refactoring Phase 3: Create Slack operations module","description":"Create reusable Slack API operation wrappers in lsimons_bot/slack/. See history/AI_ASSISTANT_REFACTORING.md Phase 3 for details.\n\nTasks:\n- Create lsimons_bot/slack/operations.py with all Slack API wrappers\n- Implement channel operations (get_channel_info, format_channel_context)\n- Implement thread operations (set_thread_status, set_suggested_prompts, get_thread_history)\n- Implement message operations (send_ephemeral, send_thread_reply)\n- Add dataclasses for structured data (ChannelInfo, Message, etc.)\n- Create tests/slack/test_operations.py with comprehensive coverage\n\nGoal: Consolidated Slack operations module (~150-200 lines) with clear interfaces. Reference: history/AI_ASSISTANT_REFACTORING.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T19:50:49.857096+01:00","updated_at":"2025-12-12T23:19:56.09821+01:00","closed_at":"2025-12-12T20:08:29.880644+01:00","dependencies":[{"issue_id":"lb-812","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T19:50:49.858319+01:00","created_by":"daemon"},{"issue_id":"lb-812","depends_on_id":"lb-bpm","type":"blocks","created_at":"2025-12-12T19:50:49.859114+01:00","created_by":"daemon"}]}
{"id":"lb-852","title":"Comprehensive test suite for AI assistant feature","description":"Create test suite achieving 80%+ coverage: 1) tests/listeners/events/test_assistant_*.py for event handlers, 2) tests/listeners/actions/test_assistant_feedback.py, 3) tests/listeners/test_assistant_utils.py, 4) tests/listeners/test_prompt.py, 5) Integration tests for full flow. Use fixtures for Slack payloads and mocked LiteLLM responses. Run pytest with coverage report, ensure all branches covered.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T18:32:04.064659+01:00","updated_at":"2025-12-12T23:19:56.09988+01:00","closed_at":"2025-12-12T22:23:16.314609+01:00","dependencies":[{"issue_id":"lb-852","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T18:32:04.065896+01:00","created_by":"daemon"},{"issue_id":"lb-852","depends_on_id":"lb-ad5","type":"blocks","created_at":"2025-12-12T18:36:48.193148+01:00","created_by":"daemon"}]}
{"id":"lb-9lq","title":"Remove all sample test files","description":"Delete all sample test files from tests/listeners/:\n- tests/listeners/actions/test_sample_action.py\n- tests/listeners/commands/test_sample_commands.py\n- tests/listeners/events/test_app_home_opened.py\n- tests/listeners/messages/test_sample_message.py\n- tests/listeners/shortcuts/test_sample_shortcut.py\n- tests/listeners/views/test_sample_view.py\n\nKeep directory structure and __init__.py files intact.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:31:38.918511+01:00","updated_at":"2025-12-12T23:19:56.100514+01:00","closed_at":"2025-12-12T17:41:58.089963+01:00","dependencies":[{"issue_id":"lb-9lq","depends_on_id":"lb-7rn","type":"blocks","created_at":"2025-12-12T17:31:38.920108+01:00","created_by":"daemon"}]}
{"id":"lb-ad5","title":"Implement prompt engineering module","description":"Create listeners/_prompt.py: 1) System prompt template (professional tone, Slack markdown awareness, context injection), 2) Suggested prompt templates (e.g., 'Summarize channel', 'Answer question', 'Brainstorm ideas'), 3) Response formatting for Slack (markdown → text, Slack mention preservation), 4) Token-aware prompt trimming. Tests: verify prompt composition, context injection, formatting.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:32:03.969383+01:00","updated_at":"2025-12-12T23:19:56.092345+01:00","closed_at":"2025-12-12T19:27:24.431671+01:00","dependencies":[{"issue_id":"lb-ad5","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T18:32:03.970511+01:00","created_by":"daemon"},{"issue_id":"lb-ad5","depends_on_id":"lb-c6r","type":"blocks","created_at":"2025-12-12T18:36:47.90554+01:00","created_by":"daemon"},{"issue_id":"lb-ad5","depends_on_id":"lb-7gl","type":"blocks","created_at":"2025-12-12T18:36:47.97867+01:00","created_by":"daemon"},{"issue_id":"lb-ad5","depends_on_id":"lb-urs","type":"blocks","created_at":"2025-12-12T18:36:48.049753+01:00","created_by":"daemon"},{"issue_id":"lb-ad5","depends_on_id":"lb-oaw","type":"blocks","created_at":"2025-12-12T18:36:48.121933+01:00","created_by":"daemon"}]}
{"id":"lb-ajt","title":"Refactoring Phase 5: Fix exception handling","description":"Replace all generic 'except Exception' blocks with specific error handling. See history/AI_ASSISTANT_REFACTORING.md Phase 5 for details.\n\nTasks:\n- Update LiteLLMClient to catch specific exceptions (TimeoutError, openai.RateLimitError, etc.)\n- Update all event handlers with specific exception types\n- Use custom exceptions from llm/exceptions.py and slack/exceptions.py\n- Add appropriate error logging at each level\n- Let critical errors (KeyboardInterrupt, SystemExit) propagate naturally\n- Update tests to cover error paths\n\nGoal: Specific exception handling throughout codebase. No generic 'except Exception' blocks. Reference: history/AI_ASSISTANT_REFACTORING.md Appendix C for exception hierarchy.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T19:51:06.925332+01:00","updated_at":"2025-12-12T23:19:56.097592+01:00","closed_at":"2025-12-12T20:55:00+01:00","dependencies":[{"issue_id":"lb-ajt","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T19:51:06.926511+01:00","created_by":"daemon"},{"issue_id":"lb-ajt","depends_on_id":"lb-f4n","type":"blocks","created_at":"2025-12-12T19:51:06.927472+01:00","created_by":"daemon"},{"issue_id":"lb-ajt","depends_on_id":"lb-c6t","type":"blocks","created_at":"2025-12-12T19:51:06.929019+01:00","created_by":"daemon"}]}
{"id":"lb-bpm","title":"Refactoring Phase 1: Foundation - Create package structure","description":"Create proper Python package structure for lsimons-bot. See history/AI_ASSISTANT_REFACTORING.md Phase 1 for details.\n\nTasks:\n- Create lsimons_bot/ root package with __init__.py\n- Create lsimons_bot/llm/ submodule structure\n- Create lsimons_bot/slack/ submodule structure  \n- Create lsimons_bot/listeners/ package structure\n- Add exception hierarchies (llm/exceptions.py, slack/exceptions.py)\n- Add backward-compatible imports in old listeners/ location\n\nGoal: Set up new package structure without breaking existing code. This is the foundation for the refactoring work documented in history/AI_ASSISTANT_REFACTORING.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T19:50:26.578711+01:00","updated_at":"2025-12-12T23:19:56.098854+01:00","closed_at":"2025-12-12T19:56:07.017037+01:00","dependencies":[{"issue_id":"lb-bpm","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T19:50:26.580501+01:00","created_by":"daemon"}]}
{"id":"lb-bx9","title":"Document and finalize empty listener category modules","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-12T22:33:47.553413+01:00","updated_at":"2025-12-12T23:19:56.101707+01:00"}
{"id":"lb-c6r","title":"Implement Assistant thread_started listener","description":"Create listeners/events/assistant_thread_started.py handler. Implements @assistant.thread_started event: 1) Send welcome greeting, 2) Generate and set suggested prompts based on channel context, 3) Store thread context. Handle get_thread_context and set_suggested_prompts utilities. Include error handling and logging. Write tests with mock Slack client and get_thread_context fixtures.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:32:03.573592+01:00","updated_at":"2025-12-12T23:19:56.093609+01:00","closed_at":"2025-12-12T19:23:51.346354+01:00","dependencies":[{"issue_id":"lb-c6r","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T18:32:03.574892+01:00","created_by":"daemon"},{"issue_id":"lb-c6r","depends_on_id":"lb-ocl","type":"blocks","created_at":"2025-12-12T18:36:47.340153+01:00","created_by":"daemon"},{"issue_id":"lb-c6r","depends_on_id":"lb-u01","type":"blocks","created_at":"2025-12-12T18:36:47.414214+01:00","created_by":"daemon"}]}
{"id":"lb-c6t","title":"Refactoring Phase 4: Refactor event handlers","description":"Break down complex event handlers into focused, clear functions. See history/AI_ASSISTANT_REFACTORING.md Phase 4 for details.\n\nTasks:\n- Refactor assistant_user_message_handler (~180 lines → orchestrator + helpers)\n- Refactor assistant_thread_started_handler (~100 lines → clear workflow)\n- Refactor assistant_feedback_handler (~90 lines → simplified)\n- Move handlers to lsimons_bot/listeners/\n- Apply pythonic extraction: single responsibilities, 15-50 lines typically\n- Use new llm and slack modules\n- Update integration tests\n\nGoal: Clear, testable handlers using orchestrator pattern. Each function has one clear purpose. Reference: history/AI_ASSISTANT_REFACTORING.md sections 4.1-4.3","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T19:50:59.352096+01:00","updated_at":"2025-12-12T23:19:56.097894+01:00","closed_at":"2025-12-12T20:21:00.79863+01:00","dependencies":[{"issue_id":"lb-c6t","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T19:50:59.354223+01:00","created_by":"daemon"},{"issue_id":"lb-c6t","depends_on_id":"lb-f4n","type":"blocks","created_at":"2025-12-12T19:50:59.355782+01:00","created_by":"daemon"},{"issue_id":"lb-c6t","depends_on_id":"lb-812","type":"blocks","created_at":"2025-12-12T19:50:59.357472+01:00","created_by":"daemon"}]}
{"id":"lb-cqi","title":"Documentation: AI Assistant architecture spec","description":"Create docs/spec/003-ai-assistant-architecture.md documenting: 1) Overview of Slack Assistant API (thread_started, context_changed, message.im), 2) LiteLLM integration pattern, 3) Thread context flow with DefaultThreadContextStore, 4) Module structure (listeners/events/*, listeners/actions/*, listeners/_*), 5) Configuration (env vars, manifest.json), 6) Data flow diagram, 7) Example usage. Keep concise, reference shared patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T18:32:04.161549+01:00","updated_at":"2025-12-12T23:19:56.099503+01:00","closed_at":"2025-12-12T22:24:14.581312+01:00","dependencies":[{"issue_id":"lb-cqi","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T18:32:04.162707+01:00","created_by":"daemon"},{"issue_id":"lb-cqi","depends_on_id":"lb-ad5","type":"blocks","created_at":"2025-12-12T18:36:48.261151+01:00","created_by":"daemon"}]}
{"id":"lb-cyf","title":"Update README and setup instructions for AI assistant","description":"Add to README.md: 1) High-level overview of AI assistant feature, 2) Quick start for enabling in Slack workspace (paid plan required, settings enabled), 3) LiteLLM proxy configuration example, 4) Environment variable documentation, 5) Link to docs/spec/003-ai-assistant-architecture.md. Add troubleshooting section for common issues.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T18:32:04.257093+01:00","updated_at":"2025-12-12T23:19:56.099164+01:00","closed_at":"2025-12-12T22:24:01.537329+01:00","dependencies":[{"issue_id":"lb-cyf","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T18:32:04.258349+01:00","created_by":"daemon"},{"issue_id":"lb-cyf","depends_on_id":"lb-ad5","type":"blocks","created_at":"2025-12-12T18:36:48.330817+01:00","created_by":"daemon"}]}
{"id":"lb-czw","title":"AI Assistant Feature - Master Epic","description":"Add AI assistant capability to Slack bot. Users can open AI threads in channels with split-view UI. Assistant uses LiteLLM proxy for LLM interactions. Includes text streaming, thread context, suggested prompts, and feedback mechanisms.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-12T18:31:00.196339+01:00","updated_at":"2025-12-12T23:19:56.094864+01:00","closed_at":"2025-12-12T22:24:30.27747+01:00"}
{"id":"lb-dsb","title":"Reduce over-mocking in listener handler tests","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T22:33:28.221469+01:00","updated_at":"2025-12-12T23:19:56.092051+01:00","closed_at":"2025-12-12T22:46:38.056847+01:00"}
{"id":"lb-dyz","title":"Spec: AI Assistant Integration with LiteLLM","description":"Create comprehensive design spec for AI assistant feature. Include: 1) Slack Assistant API patterns (thread_started, context_changed, user_message events), 2) LiteLLM proxy integration approach, 3) Thread context flow and DefaultThreadContextStore usage, 4) Error handling strategy, 5) Configuration requirements (scopes, events, env vars), 6) Data flow diagram, 7) Testing approach. Reference SLACK API docs and project patterns spec.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:31:02.714403+01:00","updated_at":"2025-12-12T23:19:56.094549+01:00","closed_at":"2025-12-12T18:46:47.416098+01:00","dependencies":[{"issue_id":"lb-dyz","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T18:31:02.71615+01:00","created_by":"daemon"}]}
{"id":"lb-e7y","title":"Refactoring Phase 6: Update entry points and imports","description":"Update app.py and app_oauth.py to use new package structure. See history/AI_ASSISTANT_REFACTORING.md Phase 6 for details.\n\nTasks:\n- Update imports in app.py from 'listeners' to 'lsimons_bot.listeners'\n- Update imports in app_oauth.py similarly\n- Ensure app.py and app_oauth.py stay at root (required by slack CLI)\n- Add backward-compatible shims if needed\n- Update all import statements project-wide\n- Test that 'slack run' still works correctly\n\nGoal: Entry points use new package structure while remaining at root level. Reference: history/AI_ASSISTANT_REFACTORING.md Important Notes section.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T19:51:13.497163+01:00","updated_at":"2025-12-12T23:19:56.097249+01:00","closed_at":"2025-12-12T21:27:18.304791+01:00","dependencies":[{"issue_id":"lb-e7y","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T19:51:13.498483+01:00","created_by":"daemon"},{"issue_id":"lb-e7y","depends_on_id":"lb-c6t","type":"blocks","created_at":"2025-12-12T19:51:13.499295+01:00","created_by":"daemon"}]}
{"id":"lb-f4n","title":"Refactoring Phase 2: Extract and refactor LLM module","description":"Consolidate all LLM-related code into lsimons_bot/llm/ submodule. See history/AI_ASSISTANT_REFACTORING.md Phase 2 for details.\n\nTasks:\n- Migrate listeners/_llm.py → lsimons_bot/llm/client.py with method refactoring\n- Migrate listeners/_prompt.py → lsimons_bot/llm/prompt.py with clarity improvements\n- Create lsimons_bot/llm/context.py from _assistant_utils.py\n- Refactor methods for single responsibilities (typically 15-50 lines)\n- Add specific exception handling (no generic except Exception)\n- Update and migrate unit tests to tests/llm/\n\nGoal: Clean LLM module with clear responsibilities and specific error handling. Reference: history/AI_ASSISTANT_REFACTORING.md","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T19:50:42.759535+01:00","updated_at":"2025-12-12T23:19:56.098522+01:00","closed_at":"2025-12-12T20:00:52.719334+01:00","dependencies":[{"issue_id":"lb-f4n","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T19:50:42.760997+01:00","created_by":"daemon"},{"issue_id":"lb-f4n","depends_on_id":"lb-bpm","type":"blocks","created_at":"2025-12-12T19:50:42.761973+01:00","created_by":"daemon"}]}
{"id":"lb-oaw","title":"Implement thread context utilities","description":"Create listeners/_assistant_utils.py with helper functions: 1) get_conversation_history(client, channel, thread_ts) - formats thread replies as [{role, content}], 2) format_thread_context() - formats channel and thread info for prompts, 3) is_assistant_message(msg) - detects if message is from bot. Full type annotations. Write unit tests with mocked API responses.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:32:03.873388+01:00","updated_at":"2025-12-12T23:19:56.092696+01:00","closed_at":"2025-12-12T19:22:51.437975+01:00","dependencies":[{"issue_id":"lb-oaw","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T18:32:03.874642+01:00","created_by":"daemon"},{"issue_id":"lb-oaw","depends_on_id":"lb-ocl","type":"blocks","created_at":"2025-12-12T18:36:47.766352+01:00","created_by":"daemon"},{"issue_id":"lb-oaw","depends_on_id":"lb-u01","type":"blocks","created_at":"2025-12-12T18:36:47.834588+01:00","created_by":"daemon"}]}
{"id":"lb-ocl","title":"Implement LiteLLM integration module","description":"Create listeners/_llm.py module for LiteLLM interactions. Implement: 1) OpenAI SDK wrapper pointing to LiteLLM proxy, 2) Streaming support, 3) Error handling and retries, 4) Type annotations. Handle LITELLM_API_KEY and LITELLM_API_BASE env vars. Write unit tests with 80%+ coverage (mock HTTP responses, test streaming chunks, test error cases).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:32:03.378602+01:00","updated_at":"2025-12-12T23:19:56.094233+01:00","closed_at":"2025-12-12T19:09:50.700828+01:00","dependencies":[{"issue_id":"lb-ocl","depends_on_id":"lb-dyz","type":"blocks","created_at":"2025-12-12T18:32:03.380175+01:00","created_by":"daemon"}]}
{"id":"lb-ps9","title":"Extract _safe_ack() to shared utility module","description":"","notes":"Completed - extracted safe_ack to listeners/utils.py","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T22:33:33.62824+01:00","updated_at":"2025-12-12T23:19:56.096224+01:00","closed_at":"2025-12-12T22:36:20.904967+01:00"}
{"id":"lb-rlo","title":"Replace nested patch() calls with fake service objects","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T22:33:30.06442+01:00","updated_at":"2025-12-12T23:19:56.091773+01:00","closed_at":"2025-12-12T22:53:19.48099+01:00","dependencies":[{"issue_id":"lb-rlo","depends_on_id":"lb-dsb","type":"discovered-from","created_at":"2025-12-12T22:33:30.065643+01:00","created_by":"daemon"}]}
{"id":"lb-tuo","title":"Add test coverage for listener registration functions","description":"","notes":"Completed - added tests for listener registration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T22:33:37.048296+01:00","updated_at":"2025-12-12T23:19:56.095788+01:00","closed_at":"2025-12-12T22:37:01.169507+01:00"}
{"id":"lb-tur","title":"Add test assertions for actual behavior instead of mock calls","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T22:33:31.851811+01:00","updated_at":"2025-12-12T23:19:56.091426+01:00","closed_at":"2025-12-12T23:03:38.755149+01:00","dependencies":[{"issue_id":"lb-tur","depends_on_id":"lb-dsb","type":"discovered-from","created_at":"2025-12-12T22:33:31.85298+01:00","created_by":"daemon"}]}
{"id":"lb-u01","title":"Configure Slack app for Assistant feature","description":"Update configuration for Agents \u0026 AI Apps feature: 1) Update manifest.json to include Agents \u0026 AI Apps feature flag, add scopes (assistant:write, chat:write, im:history), subscribe to events (assistant_thread_started, assistant_thread_context_changed, message.im), 2) Update app.py to add ignoring_self_assistant_message_events_enabled=False, 3) Create assistant middleware instance, 4) Add LITELLM_* env vars to .env.example, 5) Update requirements.txt if needed.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:32:03.476272+01:00","updated_at":"2025-12-12T23:19:56.093925+01:00","closed_at":"2025-12-12T19:21:38.549905+01:00","dependencies":[{"issue_id":"lb-u01","depends_on_id":"lb-dyz","type":"blocks","created_at":"2025-12-12T18:32:03.477575+01:00","created_by":"daemon"}]}
{"id":"lb-urs","title":"Implement Assistant feedback action handler","description":"Create listeners/actions/assistant_feedback.py handler. Implements @app.action('feedback') for thumbs up/down buttons: 1) Log feedback type and message metadata, 2) Send acknowledgment ephemeral message, 3) Consider storing for future analysis. Write tests verifying feedback logging and client.chat_postEphemeral calls.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T18:32:03.765675+01:00","updated_at":"2025-12-12T23:19:56.093013+01:00","closed_at":"2025-12-12T19:26:06.504474+01:00","dependencies":[{"issue_id":"lb-urs","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T18:32:03.766907+01:00","created_by":"daemon"},{"issue_id":"lb-urs","depends_on_id":"lb-ocl","type":"blocks","created_at":"2025-12-12T18:36:47.62858+01:00","created_by":"daemon"},{"issue_id":"lb-urs","depends_on_id":"lb-u01","type":"blocks","created_at":"2025-12-12T18:36:47.697588+01:00","created_by":"daemon"}]}
{"id":"lb-yb8","title":"Test async context manager for LiteLLMClient","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T22:33:35.41659+01:00","updated_at":"2025-12-13T15:18:02.274612+01:00","closed_at":"2025-12-13T15:18:02.274612+01:00"}
{"id":"lb-z5f","title":"Refactoring Phase 7: Reorganize and update test suite","description":"Mirror new package structure in test suite and ensure 80%+ coverage. See history/AI_ASSISTANT_REFACTORING.md Phase 7 for details.\n\nTasks:\n- Create tests/llm/ directory structure\n- Move test_llm.py → tests/llm/test_client.py\n- Move _test_prompt.py → tests/llm/test_prompt.py\n- Create tests/llm/test_context.py from _test_assistant_utils.py\n- Create tests/slack/test_operations.py\n- Update all listener tests for new structure\n- Ensure 80%+ coverage maintained across all modules\n- Run full test suite and verify all passing\n\nGoal: Test structure mirrors code structure with comprehensive coverage. Reference: history/AI_ASSISTANT_REFACTORING.md Test Migration Strategy.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T19:51:21.415377+01:00","updated_at":"2025-12-12T23:19:56.0969+01:00","closed_at":"2025-12-12T20:55:00+01:00","dependencies":[{"issue_id":"lb-z5f","depends_on_id":"lb-czw","type":"discovered-from","created_at":"2025-12-12T19:51:21.416564+01:00","created_by":"daemon"},{"issue_id":"lb-z5f","depends_on_id":"lb-f4n","type":"blocks","created_at":"2025-12-12T19:51:21.41735+01:00","created_by":"daemon"},{"issue_id":"lb-z5f","depends_on_id":"lb-812","type":"blocks","created_at":"2025-12-12T19:51:21.419445+01:00","created_by":"daemon"},{"issue_id":"lb-z5f","depends_on_id":"lb-c6t","type":"blocks","created_at":"2025-12-12T19:51:21.42145+01:00","created_by":"daemon"}]}
